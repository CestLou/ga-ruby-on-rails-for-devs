Primeros pasos en Mac OSX
==========================

Las siguientes instrucciones están fuertemente inspiradas en [esta guia](http://help.github.com/mac-set-up-git/).

Instalar Ssh
------------

OSX viene con un cliente SSH. Generar un par de claves pública/privada.

    $ ssh-keygen
    Generating public/private rsa key pair.
    Enter file in which to save the key (/home/username/.ssh/id_rsa):
    Your identification has been saved in /home/username/.ssh/id_rsa.
    Your public key has been saved in /home/username/.ssh/id_rsa.pub.

Subir la clave pública (el contenido de ` ~/.ssh/id_rsa.pub`) a Github bajo [Configuración de la cuenta, claves públicas SSH](https://github.com/account). Ir a [solución de problemas de problemas de ssh](http://help.github.com/troubleshooting-ssh/) si estás teniendo problemas.

Ahora deberías ser capaz de conectarte a Github.

    $ ssh -T git@github.com
    Hi username! You've successfully authenticated, but GitHub does not provide shell access.

Instalar Git
------------

Instalar [Git](http://git-scm.com/download).

Configurar su nombre de usuario y correo electrónico.

    git config --global user.name "Firstname Lastname"
    git config --global user.email "your_email@youremail.com"

Compilar herramientas esenciales
--------------------------------

Instalar XCode desde [http://developer.apple.com/xcode/](http://developer.apple.com/xcode/). Si tienes una versión anterior, como [4.1](https://developer.apple.com/downloads/download.action?path=Developer_Tools/xcode_4.1_for_lion/xcode_4.1_for_lion.dmg), mantenla.

Instalar Ruby con RVM
---------------------

RVM representa Ruby Version Manager (Manejador de versiónes de Ruby) y permite gestionar múltiples versiones del entorno de desarrollo de Ruby. Esto es útil para proyectos que requieren una versión antigua de Ruby u otra biblioteca central. También proporciona una manera fácil de restaurar el ambiente de desarrollo en el caso de que esté dañado o actualizado por error.

Instalar [RVM](http://rvm.beginrescueend.com/).

    bash < <(curl -s https://rvm.beginrescueend.com/install/rvm)

Agregar la ruta de RVM y el comando de inicialización a tu `.bash_profile`

    export PATH=$PATH:/usr/local/rvm/bin
    [[ -s "$HOME/.rvm/scripts/rvm" ]] && . "$HOME/.rvm/scripts/rvm"

Abre un nuevo terminal y prueba RVM. Lo siguiente debe devolver `rvm is a function`.

    $ type rvm | head -1 # numeral one
    rvm is a function

En OSX cambia el compilador por defecto de C por el GCC.

    export CC="/usr/bin/gcc-4.2" 
    export ARCHFLAGS="-arch x86_64"
    export ARCHS="x86_64"

Si GCC no funciona o se producen errores de compilación de Ruby, reinstalar GCC desde [aqui](https://github.com/kennethreitz/osx-gcc-installer).
	
Instalar Ruby 1.9.2, RubyGems, Rails, y establecer un gemset.

    rvm install 1.9.2
    rvm --default 1.9.2

Prueba de Ruby
--------------

    ruby -e "puts :Hello"

Instalar Homebrew
-----------------

Homebrew es un gestor de paquetes que usaremos para unos componentes. Se recomienda sobre MacPorts.

    ruby -e "$(curl -fsSLk https://gist.github.com/raw/323731/install_homebrew.rb)"

Ver [instrucciones de instalación](https://github.com/mxcl/homebrew/wiki/installation) para cualquier problema.

PostgreSQL
----------

Vamos a usar PostgreSQL con nuestra aplicación Rails. Usando `homebrew` mostrado más arriba, ejecuta los siguientes comandos:

    $ brew update
    $ brew install postgresql

Una vez terminado, se mostrará una serie de instrucciones. Sigue las dos instrucciones de abajo:

    If this is your first install, create a database with:
    $ initdb /usr/local/var/postgres

.

    If this is your first install, automatically load on login with:
    $ mkdir -p ~/Library/LaunchAgents
    $ cp /usr/local/Cellar/postgresql/9.1.2/org.postgresql.postgres.plist ~/Library/LaunchAgents/
    $ launchctl load -w ~/Library/LaunchAgents/org.postgresql.postgres.plist

Ahora dispones de una base de datos PostgreSQL instalada y en funcionamiento. La contraseña de esta base de datos es una cadena vacía (deja en blanco el campo de contraseña),  el nombre de usuario para esta base de datos será su `username` del terminal determinado mirando en el terminal o ejecutando el siguiente comando:

    $ whoami

Tendras la seguridad de que sólo los usuarios locales podrán conectarse a esta instancia de postgres. Debido a que tus credenciales de terminal tienen acceso a postgresql, la información de usuario y contraseña ya no será necesaria en el archivo de Rails' `database.yml` (más sobre esto más adelante).

Para mostrar estas instrucciones en cualquier momento, ejecuta el siguiente comando:

    $ brew info postgresql

[pgAdmin](http://www.pgadmin.org/download/macosx.php) hace la administración de postgresql fácil y se recomienda para los nuevos usuarios de postgres.
